const WIDTH=550,HEIGHT=400,BALLRADIUS=20;let startButton=document.querySelector("#startButton"),reStartButton=document.querySelector("#reStart"),pauseButton=document.querySelector("#pause"),playField=SVG().addTo(".game").size(550,400).stroke({width:10,color:"blue"}),backgroundPlayField=playField.rect(550,400).fill("#eee154"),playBall=playField.circle().radius(20).cx(275).cy(200).fill("blue").stroke({width:1,color:"black"}),rocketRight=playField.rect(15,80).fill("red").stroke({width:1,color:"black"}).move(520,160),rocketLeft=playField.rect(18,80).fill("red").stroke({width:1,color:"blue"}).move(15,160),stepX=2,stepY=2,stepRocketRight=0,stepRocketLeft=0,rightScoreSpan=document.querySelector("#rightScore"),leftScoreSpan=document.querySelector("#leftScore"),rightScore=0,leftScore=0,pop=document.createElement("audio");function startOperation(){startButton.disabled=!1,rightScore=0,leftScore=0,rightScoreSpan.innerHTML=rightScore,leftScoreSpan.innerHTML=leftScore,rocketRight.y(160),rocketLeft.y(160),playBall.cx(275),playBall.cy(200)}function moveBall(){if("Пауза"==pauseButton.innerHTML){let e=playBall.cx(),t=playBall.cy();(e+20>550||e-20<0)&&(clearInterval(start),e+20>550&&(leftScore+=1,leftScoreSpan.innerHTML=leftScore),e-20<0&&(rightScore+=1,rightScoreSpan.innerHTML=rightScore),5==rightScore||5==leftScore?(5==rightScore&&setTimeout((()=>{alert("Победила правая рука!")}),1e3),5==leftScore&&setTimeout((()=>{alert("Победила левая рука!")}),1e3),setTimeout((()=>{playBall.cx(275),playBall.cy(200),startButton.disabled=!1}),500)):setTimeout((()=>{playBall.cx(275),playBall.cy(200),start=setInterval(moveBall,10)}),500)),(t+20>400||t-20<0)&&(stepY=-stepY),playBall.cx()+20>rocketRight.x()&&playBall.cx()+20<rocketRight.x()+5&&playBall.cy()>rocketRight.y()&&playBall.cy()<rocketRight.y()+80&&(stepX=-stepX,pop.play()),playBall.cx()-20<rocketLeft.x()+15&&playBall.cx()-20<rocketLeft.x()+10&&playBall.cy()>rocketLeft.y()&&playBall.cy()<rocketLeft.y()+80&&(stepX=-stepX,pop.play()),e+=stepX,t+=stepY,playBall.cx(e),playBall.cy(t)}}function moveRocket(){"Пауза"==pauseButton.innerHTML&&(rocketRight.dy(stepRocketRight),rocketLeft.dy(stepRocketLeft),rocketRight.y()<5&&rocketRight.y(5),rocketRight.y()>315&&rocketRight.y(315),rocketLeft.y()<5&&rocketLeft.y(5),rocketLeft.y()>315&&rocketLeft.y(315))}pop.setAttribute("src","../audio/pop.mp3"),startButton.onclick=function(){startRocket=setInterval(moveRocket,10),startOperation(),start=setInterval(moveBall,10)},reStartButton.onclick=function(){clearInterval(start),startOperation()},pauseButton.onclick=function(){"Пауза"==pauseButton.innerHTML?pauseButton.innerHTML="Возобновить":pauseButton.innerHTML="Пауза"},document.addEventListener("keydown",(function(){let e=event.keyCode;38==e&&(stepRocketRight=-5),40==e&&(stepRocketRight=5)})),document.addEventListener("keyup",(function(){let e=event.keyCode;38!=e&&40!=e||(stepRocketRight=0)})),document.addEventListener("keydown",(function(){let e=event.keyCode;87==e&&(stepRocketLeft=-5),83==e&&(stepRocketLeft=5)})),document.addEventListener("keyup",(function(){let e=event.keyCode;87!=e&&83!=e||(stepRocketLeft=0)}));